extends ../../../../../templates/admin

block prepend main
		//- #wrap
		//- //- #calendar
		//- div(style='clear:both')
		.content
				.container-fluid
						.row
								.col-lg-11.col-md-12.mx-auto
										.bgc-white.p-20.bd
													h4.c-grey-900=services.var_eventname
													input.form-control#clientID(type='hidden' name='clientID' value=`${services.int_eventID}`)
													input.form-control#utilitiesID(type='hidden' name='utilitiesID' value=`${services.int_utilitiesID}`)
												
													.form-group
														
														.form-group
															label.h6 Service Name:
															input.form-control#servicename(type='text' name='parishname'  value= `${services.var_eventname}`)
														//- .form-group
														//- 	label.h6(for='exampleFormControlTextarea1') Address:
														//- 	input.form-control#parishlocation(rows='1' name='address' placeholder="Enter the parish complete address"  value= `${services.var_clientlocation}`)
														
														.form-row
															.form-group.col-md-4.m-0
																.form-group
																	label.h6 Minimum Reservation Day
																	input.form-control#int_reservationmindays(type='text' value= `${services.int_reservationmindays}`)
																.form-group
																	label.h6 Maximum Reservation Days
																	input.form-control#int_reservationmaxdays(type='text' value= `${services.int_reservationmaxdays}`)
																
															
																.form-group
																	label.h6 Requirement Submission Days 
																	input.form-control#int_requirementsdays(type='email' value= `${services.int_requirementsdays}`)
														

														
															.form-group.col-md-4.m-0
																.form-group
																	label.h6 Duration
																	input.form-control#time_duration(type='text' value= `${services.time_duration}`)
																
																.form-row
																	.form-group.col-md-6.m-0
																		label.h6 From
																		.form-group
																			input.form-control#time_availablestart(type='text' value= `${services.time_availablestart}`)
																	.form-group.col-md-6.m-0
																		label.h6 To
																		.form-group
																			input.form-control#time_availableend(type='text' value= `${services.time_availableend}`)
																.form-group
																	label.h6 Default time
																	input.form-control#time_defaulttime(type='text' value= `${services.time_defaulttime}`)


															.form-group.col-md-4.m-0
																	.form-group
																		label.h6 Minimum Age
																		input.form-control#int_agemin(type='text' value= `${services.int_agemin}`)
																	.form-group
																		label.h6 Maximum Age
																		input.form-control#int_agemax(type='text' value= `${services.int_agemax}`)



														//- checkbox for with payment
														.form-row
															.form-group.col-md-4.m-0
																
																	.form-group
																		label.h6 Fee
																		input.form-control#double_fee(type='text' value= `${services.double_fee}`)
																
																	.form-group
																		label.h6 Additional Rate
																		input.form-control#double_addrate(type='text' value= `${services.double_addrate}`)
															.form-group.col-md-4.m-0
																	.form-group
																		label.h6 Downpayment Days
																		input.form-control#int_downpaymentdays(type='text' value= `${services.int_downpaymentdays}`)
																
																	.form-group
																		label.h6 Full Payment Days
																		input.form-control#int_downpaymentdays(type='text' value= `${services.int_downpaymentdays}`)
																	
															//-check box for refunable
															.form-group.col-md-4.m-0
																.form-group
																	label.h6 Refund Days 
																	input.form-control#int_downpaymentdays(type='email' value= `${services.int_downpaymentdays}`)
																.form-group
																	label.h6 Refund Percent
																	input.form-control#int_downpaymentdays(type='text' value= `${services.int_downpaymentdays}`)
																
															//- .form-group
															//- 	h6.c-grey-900 Office hours
															//- 	.form-row
															//- 		.form-group.col-md-6
															//- 			label.h6 Open:
															//- 				.text-danger.d-inline *
															//- 			input.timpicker1.form-control#officeopen(type='text' name='officeopen' placeholder="Open" ='' value= `${services.var_officeopen}`)
															//- 			.invalid-feedback Please enter .
															//- 		.form-group.col-md-6
															//- 			label.h6 Close:
															//- 				.text-danger.d-inline *
															//- 			input.timpicker1.form-control#officeclose(type='text' name='officeclose' placeholder="Close" ='' value= `${services.var_officeclose}`)
															//- 			.invalid-feedback Please provide a valid email address
														button.btn.btn-primary.mt-3#submitButton(type='submit' value=`${services.int_utilitiesID}`) Save Changes


													
													//- tr
													//- 	td.p-2 Office Hours:
													//- 	td=services.var_officeopen +" - " + services.var_officeclose
													
		script(type='text/javascript', src='/js/jquery.min.js')
		script(type='text/javascript', src='/admin/vendor.js')
		script(type='text/javascript', src='/admin/bundle.js')
		script(type='text/javascript', src='/js/loader.js')
block addjs
	script(type='text/javascript').
		
		$(document).ready(function(){
			$('#submitButton').click(function(){
					var idNow = $(this).val();
					swal({
						title: 'Are you sure you want to save changes?',
						//- text: "You are about to change the client's information",
						type: 'warning',
						showCancelButton: true,
						confirmButtonColor: '#3085d6',
						cancelButtonColor: '#d33',
						confirmButtonText: 'Yes'
					}).then((result) => {
						if (result.value) {
							$.post('/admin/utilities-services/viewdetails',{

							int_utilitiesID:$('#int_utilitiesID').val(),
							int_eventID:$('#int_eventID').val(),
							intserviceutilitiesID:$('#intserviceutilitiesID').val(),
							int_reservationmaxdays:$('#int_reservationmaxdays').val(),
							int_reservationmindays:$('#mobilenumber').val(),
							int_requirementsdays:$('#int_requirementsdays').val(),
							time_duration:$('#time_duration').val(),
							var_availabledays:$('#var_availabledays').val(),
							time_availablestart:$('#time_availablestart').val(),
							time_availableend:$('#time_availableend').val(),
							boolwithpayment:$('#boolwithpayment').val(),
							double_fee:$('#double_fee').val(),
							double_addrate:$('#double_addrate').val(),
							int_downpaymentdays:$('#int_downpaymentdays').val(),
							int_fullpaymentdays:$('#int_fullpaymentdays').val(),
							bool_refundable:$('#bool_refundable').val(),
							int_refundpercent:$('#int_refundpercent').val(),
							bool_withageconstraints:$('#bool_withageconstraints').val(),
							int_agemin:$('#int_agemin').val(),
							int_agemax:$('#int_agemax').val(),
							char_servicestatus:$('#char_servicestatus').val()
						}).done(function(data){
							if(data.alertDesc==0){
								swal(
									'Changes saved!',
									'success'
								).then(function(){
									location.reload()
								})
							}
							else{
								swal({
									title: 'Error!',
									text: '',
									icon: 'error'
								})
							}
						})
						}
						})
				})
				
		
		})		

	
		