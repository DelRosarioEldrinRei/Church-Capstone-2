extends ../../../../templates/admin
block prepend main
	#mainContent
		.row.gap-20.masonry.pos-r
			.masonry-sizer.col-md-6
			.masonry-item.w-100
				.row.gap-20
					// #Toatl Visits ====================
					.col-md-3
						.layers.bd.bgc-white.p-20
							.layer.w-100.mB-10
								h6.lh-1 Facility Reservations
							.layer.w-100
								.peers.ai-sb.fxw-nw
									.peer.peer-greed
										span#sparklinedash
									.peer
										span.d-ib.lh-0.va-m.fw-600.bdrs-10em.pX-15.pY-15.bgc-green-50.c-green-500=reservation.reservationcount
					// #Total Page Views ====================
					.col-md-3
						.layers.bd.bgc-white.p-20
							.layer.w-100.mB-10
								h6.lh-1 Document Requests
							.layer.w-100
								.peers.ai-sb.fxw-nw
									.peer.peer-greed
										span#sparklinedash2
									.peer
										span.d-ib.lh-0.va-m.fw-600.bdrs-10em.pX-15.pY-15.bgc-red-50.c-red-500=request.requestcount
					// #Unique Visitors ====================
					.col-md-3
						.layers.bd.bgc-white.p-20
							.layer.w-100.mB-10
								h6.lh-1 Baptisms
							.layer.w-100
								.peers.ai-sb.fxw-nw
									.peer.peer-greed
										span#sparklinedash3
									.peer
										span.d-ib.lh-0.va-m.fw-600.bdrs-10em.pX-15.pY-15.bgc-purple-50.c-purple-500=baptism.baptismcount
					// #Bounce Rate ====================
					.col-md-3
						.layers.bd.bgc-white.p-20
							.layer.w-100.mB-10
								h6.lh-1 Other Event Application
							.layer.w-100
								.peers.ai-sb.fxw-nw
									.peer.peer-greed
										span#sparklinedash4
									.peer
										span.d-ib.lh-0.va-m.fw-600.bdrs-10em.pX-15.pY-15.bgc-blue-50.c-blue-500=application.applicationcount
			.masonry-item.col-12
				// #Site Visits ====================
				.bd.bgc-white
					.peers.ai-s(class='fxw-nw@lg+')
						.peer.peer-greed.p-20(class='w-70p@lg+ w-100@lg-')
							.layers
								.layer.w-100.mB-10
									h6.lh-1 Site Visits
								.layer.w-100
									.mT-30
										canvas#area-chart(height='160')
									//- #world-map-marker
						.peer.bdL.p-20(class='w-30p@lg+ w-100p@lg-')
							.layers
								.layer.w-100
									// Progress Bars
									.layers
										.layer.w-100
											h5.mB-5 100k
											small.fw-600.c-grey-700 Visitors From USA
											span.pull-right.c-grey-600.fsz-sm 50%
											.progress.mT-10
												.progress-bar.bgc-deep-purple-500(role='progressbar', aria-valuenow='50', aria-valuemin='0', aria-valuemax='100', style='width:50%;')
													span.sr-only 50% Complete
										.layer.w-100.mT-15
											h5.mB-5 1M
											small.fw-600.c-grey-700 Visitors From Europe
											span.pull-right.c-grey-600.fsz-sm 80%
											.progress.mT-10
												.progress-bar.bgc-green-500(role='progressbar', aria-valuenow='50', aria-valuemin='0', aria-valuemax='100', style='width:80%;')
													span.sr-only 80% Complete
										.layer.w-100.mT-15
											h5.mB-5 450k
											small.fw-600.c-grey-700 Visitors From Australia
											span.pull-right.c-grey-600.fsz-sm 40%
											.progress.mT-10
												.progress-bar.bgc-light-blue-500(role='progressbar', aria-valuenow='50', aria-valuemin='0', aria-valuemax='100', style='width:40%;')
													span.sr-only 40% Complete
										.layer.w-100.mT-15
											h5.mB-5 1B
											small.fw-600.c-grey-700 Visitors From India
											span.pull-right.c-grey-600.fsz-sm 90%
											.progress.mT-10
												.progress-bar.bgc-blue-grey-500(role='progressbar', aria-valuenow='50', aria-valuemin='0', aria-valuemax='100', style='width:90%;')
													span.sr-only 90% Complete
													
									//- // Pie Charts
									//- .peers.pT-20.mT-20.bdT.jc-sb.ta-c.gap-10(class='fxw-nw@lg+')
									//-   .peer
									//-     .easy-pie-chart(data-size='80', data-percent='75', data-bar-color='#f44336')
									//-       span
									//-     h6.fsz-sm New Users
									//-   .peer
									//-     .easy-pie-chart(data-size='80', data-percent='50', data-bar-color='#2196f3')
									//-       span
									//-     h6.fsz-sm New Purchases
									//-   .peer
									//-     .easy-pie-chart(data-size='80', data-percent='90', data-bar-color='#ff9800')
									//-       span
									//-     h6.fsz-sm Bounce Rate
			.masonry-item.col-md-12
				// #Monthly Stats ====================
				.bd.bgc-white
					.layers
						.layer.w-100.pX-20.pT-20
							h6.lh-1 Monthly Stats
						.layer.w-100.p-20
							canvas#line-chart(height='220')
						.layer.w-100.p-20
							canvas#bar(height='220')
						//- .layer.bdT.p-20.w-100
						//- 	.peers.ai-c.jc-c.gapX-20
						//- 		.peer
						//- 			span.fsz-def.fw-600.mR-10.c-grey-800
						//- 				| 10% 
						//- 				i.fa.fa-level-up.c-green-500
						//- 			small.c-grey-500.fw-600 APPL
						//- 		.peer.fw-600
						//- 			span.fsz-def.fw-600.mR-10.c-grey-800
						//- 				| 2% 
						//- 				i.fa.fa-level-down.c-red-500
						//- 			small.c-grey-500.fw-600 Average
						//- 		.peer.fw-600
						//- 			span.fsz-def.fw-600.mR-10.c-grey-800
						//- 				| 15% 
						//- 				i.fa.fa-level-up.c-green-500
						//- 			small.c-grey-500.fw-600 Sales
						//- 		.peer.fw-600
						//- 			span.fsz-def.fw-600.mR-10.c-grey-800
						//- 				| 8% 
						//- 				i.fa.fa-level-down.c-red-500
						//- 			small.c-grey-500.fw-600 Profit

						
			.masonry-item.col-md-6
	<script type="text/javascript" src="/admin/chart.js/dist/Chart.js"></script>			
block addjs
	
	script(type='text/javascript').
			$(document).ready(function(){
				$.ajax({
					url: "/admin/reports/queries",
					method: "GET",
					success: function(data) {
						console.log(data);
						var player = [];
						var score = [];

						for(var i in data) {
							score.push(data[i]);
						}
						console.log(score)

						var chartdata = {
							labels: player,
							datasets : [
								{
									label: 'Player Score',
									backgroundColor: 'rgba(200, 200, 200, 0.75)',
									borderColor: 'rgba(200, 200, 200, 0.75)',
									hoverBackgroundColor: 'rgba(200, 200, 200, 1)',
									hoverBorderColor: 'rgba(200, 200, 200, 1)',
									data: data
								}
							]
						};

						var ctx = $("#bar");

						var barGraph = new Chart(ctx, {
							type: 'bar',
							data: chartdata
						});
					},
					error: function(data) {
						console.log(data);
					}
				});


				const lineChart=document.getElementById("line-chart");
				if(lineChart)
				{
				const lineCtx=lineChart.getContext("2d");lineChart.height=80,
				new Chart
				(lineChart,{
					type:"line",
					data:{
						labels:["January","February","March","April","May","June","July"],
						datasets:[{
						label:"Series A",
							backgroundColor:"rgba(237, 231, 246, 0.5)",
							borderColor:"deep-purple-500",
							pointBackgroundColor:"deep-purple-700",
							borderWidth:4,
							data:[60,50,70,60,50,70,60]},
						{label:"Series B",
							backgroundColor:"rgba(232, 245, 233, 0.5)",
							borderColor:"blue-500",
							pointBackgroundColor:"blue-700",
							borderWidth:2,
							data:[chartdata]}]},

			options:{legend:{display:!1}}})

			}

			const areaChartBox = document.getElementById('area-chart');
			if (areaChartBox) {
				const areaCtx = areaChartBox.getContext('2d');

				new Chart(areaCtx, {
					type: 'line',
					data: {
						labels: ['January', 'February', 'March', 'April', 'May', 'June', 'July'],
						datasets: [{
							backgroundColor : 'rgba(3, 169, 244, 0.5)',
							borderColor     : 'rgb(75, 192, 192)',
							borderWidth		:	4,
							data            : [10,20,30,10,20,30,10],
							label           : 'Dataset',
							fill            : 'start',
						}],
					},
				});
			}
			})
				